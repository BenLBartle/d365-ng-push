(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(n,e,t){n.exports=t("zUnb")},crnd:function(n,e){function t(n){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e})}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id="crnd"},kiQV:function(n){n.exports={a:"0.0.2-preview"}},zUnb:function(n,e,t){"use strict";t.r(e),t("yLV6");var i=t("CcnG"),o=function(){function n(n){this.http=n}return n.prototype.load=function(){var e=this;return new Promise(function(t,i){e.http.get("assets/config/appConfig.json").toPromise().then(function(e){n.settings=e,console.log("Config Loaded"),console.log(n.settings),t()}).catch(function(n){i("Could not load the config file")})})},n}(),l=function(){return function(){}}(),a=function(){return function(){}}(),r=t("kiQV"),s=function(){return function(){this.version=r.a,this.notificationPreferences=new Array;var n=new a;n.title="Admin Messages",n.icon="message",n.boundfield="bartl_administratormessages",n.description="Enables notifications for messages sent to you by the system administrators";var e=new a;e.title="Low Priority",e.icon="notifications",e.boundfield="bartl_lowpriority",e.description="Enables notifications for low-priority system events";var t=new a;t.title="Standard Priority",t.icon="warning",t.boundfield="bartl_standardpriority",t.description="Enables notifications for standard-priority system events";var i=new a;i.title="High Priority",i.icon="error",i.boundfield="bartl_highpriority",i.description="Enables notifications for high-priority system events",this.notificationPreferences.push(n,e,t,i)}}(),c=t("xYTU"),u=t("lzlj"),b=t("FVSy"),d=t("Mr+X"),h=t("SMsm"),f=t("oJZn"),g=t("gIcY"),p=t("kWGw"),m=t("dWZg"),v=t("lLAP"),y=t("wFw1"),q=t("Fzqc"),x=t("mrSG"),w=t("sE5F"),C=t("67Y/"),j=function(){function n(){}return Object.defineProperty(n.prototype,"nativeWindow",{get:function(){return window},enumerable:!0,configurable:!0}),n}(),M=function(){function n(n,e){this.http=n,this.winRef=e,this.apiVersion="9.1",this.clientUrl="https://bartl.crm11.dynamics.com"}return n.prototype.getConsent=function(n){return x.b(this,void 0,void 0,function(){var e,t;return x.e(this,function(i){switch(i.label){case 0:return e={headers:this.getHeaders(),observe:"response"},[4,this.http.get(this.clientUrl+"/api/data/v"+this.apiVersion+"/bartl_notificationconsents?$filter=bartl_User/systemuserid eq "+n,e).pipe(Object(C.a)(function(n){return n.json()})).toPromise()];case 1:return t=i.sent(),console.log(t.value),t.value.length>=1?[2,t.value[0]]:[2,void 0]}})})},n.prototype.getUserId=function(){return x.b(this,void 0,void 0,function(){var n,e;return x.e(this,function(t){switch(t.label){case 0:return n=new w.g({headers:this.getHeaders()}),[4,this.http.get(this.clientUrl+"/api/data/v"+this.apiVersion+"/WhoAmI()",n).pipe(Object(C.a)(function(n){return n.json()})).toPromise()];case 1:return e=t.sent(),console.log(e.UserId),[2,e.UserId]}})})},n.prototype.createConsent=function(n,e){return x.b(this,void 0,void 0,function(){var t,i,o;return x.e(this,function(l){switch(l.label){case 0:return t={headers:this.getHeaders(),observe:"response"},[4,this.http.post(this.clientUrl+"/api/data/v"+this.apiVersion+"/bartl_notificationconsents",{"bartl_User@odata.bind":"/systemusers("+n+")",bartl_consenttoken:e},t).toPromise()];case 1:return i=l.sent(),o=i.headers.get("OData-EntityId"),console.log(o),[2,o]}})})},n.prototype.notificationToggle=function(n,e,t){return x.b(this,void 0,void 0,function(){var i,o;return x.e(this,function(l){switch(l.label){case 0:return o={headers:this.getHeaders()},(i={})[e]=t,[4,this.http.patch(n,i,o).pipe(Object(C.a)(function(n){return n.json()})).toPromise()];case 1:return l.sent(),[2]}})})},n.prototype.deleteConsent=function(n){return x.b(this,void 0,void 0,function(){var e;return x.e(this,function(t){switch(t.label){case 0:return e={headers:this.getHeaders()},console.log("Deleting Consent: "+n),[4,this.http.delete(n,e).toPromise()];case 1:return t.sent(),[2]}})})},n.prototype.getHeaders=function(){return new w.d({Authorization:"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkhCeGw5bUFlNmd4YXZDa2NvT1UyVEhzRE5hMCIsImtpZCI6IkhCeGw5bUFlNmd4YXZDa2NvT1UyVEhzRE5hMCJ9.eyJhdWQiOiJodHRwczovL2JhcnRsLmNybTExLmR5bmFtaWNzLmNvbS8iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8wNzBiYTlkMS02NWFkLTQzODYtYmVjZi1mNmM2ZjdhZTRiZDkvIiwiaWF0IjoxNTU5NTg3ODI0LCJuYmYiOjE1NTk1ODc4MjQsImV4cCI6MTU1OTU5MTcyNCwiYWlvIjoiNDJaZ1lQRFNOVzNtT0h6VDZ2RHVwV2Q5Rmo1ZURnQT0iLCJhcHBpZCI6IjQ4OTdlYTYxLWYwMTUtNDg2MC1hNzI2LWMxMjU5Y2ZmNzVmYiIsImFwcGlkYWNyIjoiMSIsImlkcCI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0LzA3MGJhOWQxLTY1YWQtNDM4Ni1iZWNmLWY2YzZmN2FlNGJkOS8iLCJvaWQiOiJmZTI2NGVjMi1hZTY2LTRkYmItODdlYi1iYWI0OGIzOWM5ZjciLCJzdWIiOiJmZTI2NGVjMi1hZTY2LTRkYmItODdlYi1iYWI0OGIzOWM5ZjciLCJ0aWQiOiIwNzBiYTlkMS02NWFkLTQzODYtYmVjZi1mNmM2ZjdhZTRiZDkiLCJ1dGkiOiI3MUVLaktMc2YwS2h1bXZ5WUJOREFBIiwidmVyIjoiMS4wIn0.TAF_GXxOcRaJlHTKrcYl3q-BMsjJ-AQ0WMA4bMLGrqO6WzEn-0nn7EpZpuHkkP4NC83XVzZ4n6b3m-7lpicDHlK4aIRSwBJLOVRjzV2d4PVytDd7yugDIQXWrTC6GioI4Oj7Ir1ZEpeuk_NiySpUvK8dh6aXno_ESX26xRCMN9LngJ3ZdtLh8HfrQSYk3kNR1zcFe1j0LHYyGvbWR0hrjBfglptj5xKkMsYI2xYVJXBXOmjdvKqVqbekWoz6msyIhqdqAjv07ef1mQ7vAW5g0QCU-SNhF7BH9VyQqnGd4eqv40ral1VSnN00-RSPnaAMu5dD88uX4TKgyO0WYFbcKw"})},n}(),S=t("gIep"),k=t("K9Ia"),I=t("iqUP"),P="\ud83d\ude22 There was an error getting your details from the system, please try again.",O=function(){function n(n,e,t){var i=this;this.angularFireMessaging=n,this.d365Service=e,this.snackBar=t,this.adminMessages=!1,this.lowPriority=!1,this.standardPriority=!1,this.highPriority=!1,this.consentChangedSource=new k.a,this.permissionChangedSource=new k.a,this.consentChanged$=this.consentChangedSource.asObservable(),this.permissionChanged$=this.permissionChangedSource.asObservable(),I.initializeApp(o.settings.FCMSettings),this.d365Service.getUserId().then(function(n){i.userId=n}).then(function(){return i.d365Service.getConsent(i.userId)}).then(function(n){void 0!==n?(i.consentUrl=i.d365Service.clientUrl+"/api/data/v"+i.d365Service.apiVersion+"/bartl_notificationconsents("+n.bartl_notificationconsentid+")",i.adminMessages=n.bartl_administratormessages,i.lowPriority=n.bartl_lowpriority,i.standardPriority=n.bartl_standardpriority,i.highPriority=n.bartl_highpriority,i.consentChangedSource.next(!0),i.permissionChangedSource.next({boundfield:"bartl_administratormessages",enabled:i.adminMessages}),i.permissionChangedSource.next({boundfield:"bartl_lowpriority",enabled:i.lowPriority}),i.permissionChangedSource.next({boundfield:"bartl_standardpriority",enabled:i.standardPriority}),i.permissionChangedSource.next({boundfield:"bartl_highpriority",enabled:i.highPriority})):(i.consentChangedSource.next(!1),i.permissionChangedSource.next({boundfield:"bartl_administratormessages",enabled:!1}),i.permissionChangedSource.next({boundfield:"bartl_lowpriority",enabled:!1}),i.permissionChangedSource.next({boundfield:"bartl_standardpriority",enabled:!1}),i.permissionChangedSource.next({boundfield:"bartl_highpriority",enabled:!1}))}).catch(function(){i.snackBar.open(P,"Dismiss",{duration:5e3,verticalPosition:"top"}),i.consentChangedSource.next(!1)})}return n.prototype.requestPermission=function(){var n=this;this.angularFireMessaging.requestToken.subscribe(function(e){n.d365Service.createConsent(n.userId,e).then(function(e){n.consentUrl=e}),n.consentChangedSource.next(!0)},function(e){n.consentChangedSource.next(!1),console.error("Unable to get permission to notify.",e)})},n.prototype.setPreference=function(n,e){return x.b(this,void 0,void 0,function(){return x.e(this,function(t){switch(t.label){case 0:return[4,this.d365Service.notificationToggle(this.consentUrl,n,e)];case 1:return t.sent(),this.permissionChangedSource.next({boundfield:n,enabled:e}),[2]}})})},n.prototype.resetConsent=function(){return x.b(this,void 0,void 0,function(){return x.e(this,function(n){switch(n.label){case 0:return this.adminMessages=!1,this.lowPriority=!1,this.standardPriority=!1,this.highPriority=!1,[4,this.d365Service.deleteConsent(this.consentUrl)];case 1:return n.sent(),this.consentUrl=null,this.permissionChangedSource.next({boundfield:"bartl_adminmessages",enabled:!1}),this.permissionChangedSource.next({boundfield:"bartl_lowpriority",enabled:!1}),this.permissionChangedSource.next({boundfield:"standardPriority",enabled:!1}),this.permissionChangedSource.next({boundfield:"highPriority",enabled:!1}),this.consentChangedSource.next(!1),[2]}})})},n}(),T=t("VnD/"),_="Disabled",N="text-disabled",F="notification-card-disabled",L=function(){function n(n){var e=this;this.consentService=n,this.enabledClass=N,this.enabledText=_,this.checked=!1,this.enabled=!1,this.cardclass=F,this.consentService.permissionChanged$.pipe(Object(T.a)(function(n){return n.boundfield==e.notificationPreference.boundfield})).subscribe(function(n){e.checked=n.enabled,e.enabledClass=e.ClassFromBoolean(n.enabled),e.enabledText=e.TextFromBoolean(n.enabled)}),this.consentService.consentChanged$.subscribe(function(n){e.enabled=!n,n||(e.checked=!1,e.enabledClass=e.ClassFromBoolean(!1),e.enabledText=e.TextFromBoolean(!1))})}return n.prototype.toggle=function(n){return x.b(this,void 0,void 0,function(){return x.e(this,function(e){switch(e.label){case 0:return[4,this.consentService.setPreference(this.notificationPreference.boundfield,n.checked)];case 1:return e.sent(),[2]}})})},n.prototype.TextFromBoolean=function(n){return!0===n?"Enabled":_},n.prototype.ClassFromBoolean=function(n){return!0===n?"text-enabled":N},n.prototype.CardClassFromBoolean=function(n){return!0===n?"notification-card":F},n}(),U=i.hb({encapsulation:0,styles:[[".notification-card[_ngcontent-%COMP%]{width:220px;margin-top:10px;padding-left:20px;padding-right:20px;padding-bottom:20px;margin-bottom:10px}.text-disabled[_ngcontent-%COMP%]{color:rgba(0,0,0,.5);font-weight:400}.text-enabled[_ngcontent-%COMP%]{color:inherit;font-weight:500}.notification-card-disabled[_ngcontent-%COMP%]{width:250px;margin-top:10px;padding-left:20px;padding-right:20px;padding-bottom:20px;margin-bottom:10px;opacity:.3}"]],data:{}});function Y(n){return i.yb(0,[(n()(),i.jb(0,0,null,null,20,"mat-card",[["class","notification-card mat-card"]],null,null,null,u.d,u.a)),i.ib(1,49152,null,0,b.a,[],null,null),(n()(),i.jb(2,0,null,0,7,"mat-card-header",[["class","mat-card-header"]],null,null,null,u.c,u.b)),i.ib(3,49152,null,0,b.d,[],null,null),(n()(),i.jb(4,0,null,2,2,"mat-icon",[["aria-hidden","false"],["aria-label","Example home icon"],["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,d.b,d.a)),i.ib(5,9158656,null,0,h.b,[i.j,h.d,[8,"false"],[2,h.a]],null,null),(n()(),i.xb(6,0,["",""])),(n()(),i.jb(7,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),i.ib(8,16384,null,0,b.f,[],null,null),(n()(),i.xb(9,null,["",""])),(n()(),i.jb(10,0,null,0,3,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),i.ib(11,16384,null,0,b.c,[],null,null),(n()(),i.jb(12,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),i.xb(13,null,[" "," "])),(n()(),i.jb(14,0,null,0,6,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),i.ib(15,16384,null,0,b.b,[],null,null),(n()(),i.jb(16,0,null,null,4,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"],[null,"focus"]],function(n,e,t){var o=!0,l=n.component;return"focus"===e&&(o=!1!==i.sb(n,18)._inputElement.nativeElement.focus()&&o),"change"===e&&(o=!1!==l.toggle(t)&&o),o},f.b,f.a)),i.ub(5120,null,g.a,function(n){return[n]},[p.b]),i.ib(18,1228800,null,0,p.b,[i.j,m.a,v.a,i.g,[8,null],i.v,p.a,[2,y.a],[2,q.b]],{disabled:[0,"disabled"],checked:[1,"checked"]},{change:"change"}),(n()(),i.jb(19,0,null,0,1,"p",[],[[8,"className",0]],null,null,null,null)),(n()(),i.xb(20,null,["",""]))],function(n,e){var t=e.component;n(e,5,0),n(e,18,0,t.enabled,t.checked)},function(n,e){var t=e.component;n(e,4,0,i.sb(e,5).inline,"primary"!==i.sb(e,5).color&&"accent"!==i.sb(e,5).color&&"warn"!==i.sb(e,5).color),n(e,6,0,t.notificationPreference.icon),n(e,9,0,t.notificationPreference.title),n(e,13,0,t.notificationPreference.description),n(e,14,0,"end"===i.sb(e,15).align),n(e,16,0,i.sb(e,18).id,-1,i.sb(e,18).checked,i.sb(e,18).disabled,"before"==i.sb(e,18).labelPosition,"NoopAnimations"===i.sb(e,18)._animationMode),n(e,19,0,t.enabledClass),n(e,20,0,t.enabledText)})}var R=t("21Lb"),z=t("OzfB"),W=t("FbN9"),V=t("8mMr"),B=t("Ip0R"),Z="notifications_off",D="Notifications Disabled",J="notification-disabled",E=function(){function n(n,e){var t=this;this.consentService=n,this.snackBar=e,this.toggleIcon=Z,this.toggleText=D,this.toggleTextClass=J,this.consentService.consentChanged$.subscribe(function(n){t.checked=n,t.setToggleState()})}return n.prototype.setToggleState=function(){this.checked?(this.toggleIcon="notifications_active",this.toggleText="Notifications Enabled",this.toggleTextClass="notification-enabled"):(this.toggleIcon=Z,this.toggleText=D,this.toggleTextClass=J)},n.prototype.toggle=function(n){return x.b(this,void 0,void 0,function(){return x.e(this,function(e){try{n.checked?(this.consentService.requestPermission(),this.toggleIcon="notifications_active"):(this.consentService.resetConsent(),this.toggleIcon=Z,this.snackBar.open("\ud83d\udc4d Your consent token has been deleted, but you can disable all notifications from this site within your browser settings.","Dismiss",{duration:5e3,verticalPosition:"top"}))}catch(t){console.log(t)}return[2]})})},n}(),A=t("vARd"),G=i.hb({encapsulation:0,styles:[['.notification-disabled[_ngcontent-%COMP%]{color:rgba(0,0,0,.5);font-weight:400;font-family:Roboto,"Helvetica Neue",sans-serif;font-size:medium;padding-left:10px}.notification-enabled[_ngcontent-%COMP%]{color:inherit;font-weight:500;font-family:Roboto,"Helvetica Neue",sans-serif;font-size:medium}.toolbar-icon[_ngcontent-%COMP%]{padding:0 14px}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}']],data:{}});function H(n){return i.yb(0,[(n()(),i.jb(0,0,null,null,12,"mat-toolbar",[["class","mat-toolbar"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,W.b,W.a)),i.ib(1,4243456,null,1,V.a,[i.j,m.a,B.c],null,null),i.vb(603979776,1,{_toolbarRows:1}),(n()(),i.jb(3,0,null,0,1,"span",[],null,null,null,null,null)),(n()(),i.xb(-1,null,["Notification Preferences"])),(n()(),i.jb(5,0,null,0,0,"span",[["class","toolbar-spacer"]],null,null,null,null,null)),(n()(),i.jb(6,0,null,0,6,"div",[],null,null,null,null,null)),(n()(),i.jb(7,0,null,null,5,"mat-slide-toggle",[["class","mat-slide-toggle"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"],[null,"focus"]],function(n,e,t){var o=!0,l=n.component;return"focus"===e&&(o=!1!==i.sb(n,9)._inputElement.nativeElement.focus()&&o),"change"===e&&(o=!1!==l.toggle(t)&&o),o},f.b,f.a)),i.ub(5120,null,g.a,function(n){return[n]},[p.b]),i.ib(9,1228800,null,0,p.b,[i.j,m.a,v.a,i.g,[8,null],i.v,p.a,[2,y.a],[2,q.b]],{checked:[0,"checked"]},{change:"change"}),(n()(),i.jb(10,0,null,0,2,"mat-icon",[["aria-hidden","false"],["aria-label","Notifications Status"],["class","toolbar-icon mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,d.b,d.a)),i.ib(11,9158656,null,0,h.b,[i.j,h.d,[8,"false"],[2,h.a]],null,null),(n()(),i.xb(12,0,[""," "]))],function(n,e){n(e,9,0,e.component.checked),n(e,11,0)},function(n,e){var t=e.component;n(e,0,0,i.sb(e,1)._toolbarRows.length>0,0===i.sb(e,1)._toolbarRows.length),n(e,7,0,i.sb(e,9).id,-1,i.sb(e,9).checked,i.sb(e,9).disabled,"before"==i.sb(e,9).labelPosition,"NoopAnimations"===i.sb(e,9)._animationMode),n(e,10,0,i.sb(e,11).inline,"primary"!==i.sb(e,11).color&&"accent"!==i.sb(e,11).color&&"warn"!==i.sb(e,11).color),n(e,12,0,t.toggleIcon)})}var Q=i.hb({encapsulation:0,styles:[['div.container[_ngcontent-%COMP%]{margin:20px;color:#333;font-family:"Segoe UI Regular",SegoeUI,"Segoe UI";font-size:1rem;line-height:1.5rem;padding:0;text-overflow:ellipsis}.toolbar-icon[_ngcontent-%COMP%]{padding:0 14px}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.info[_ngcontent-%COMP%]{font-size:small}.credits[_ngcontent-%COMP%]{font-size:small;vertical-align:middle}.logo[_ngcontent-%COMP%]{width:20px;height:20px;font-size:small}']],data:{}});function X(n){return i.yb(0,[(n()(),i.jb(0,0,null,null,2,"notificationcard-component",[["fxFlex","0 1 calc(10% - 25px)"]],null,null,null,Y,U)),i.ib(1,671744,null,0,R.a,[i.j,z.i,z.e,R.f,z.f],{fxFlex:[0,"fxFlex"]},null),i.ib(2,49152,null,0,L,[O],{notificationPreference:[0,"notificationPreference"]},null)],function(n,e){n(e,1,0,"0 1 calc(10% - 25px)"),n(e,2,0,e.context.$implicit)},null)}function K(n){return i.yb(0,[(n()(),i.jb(0,0,null,null,19,"div",[["class","container"],["id","preferences-header"]],null,null,null,null,null)),(n()(),i.jb(1,0,null,null,1,"notificationenable-component",[],null,null,null,H,G)),i.ib(2,49152,null,0,E,[O,A.b],null,null),(n()(),i.jb(3,0,null,null,1,"p",[["class","info"]],null,null,null,null,null)),(n()(),i.xb(-1,null,[" Use the controls below to set your notification preferences. These preferences will be stored against your profile and cannot be edited by anyone other than an administrator. "])),(n()(),i.jb(5,0,null,null,5,"div",[["fxLayout","row wrap"],["fxLayoutAlign","flex-start"],["fxLayoutGap","25px"]],null,null,null,null,null)),i.ib(6,671744,null,0,R.c,[i.j,z.i,[2,R.i],z.f],{fxLayout:[0,"fxLayout"]},null),i.ib(7,1720320,null,0,R.d,[i.j,i.v,q.b,z.i,[2,R.h],z.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),i.ib(8,671744,null,0,R.b,[i.j,z.i,[2,R.g],z.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),i.ab(16777216,null,null,1,null,X)),i.ib(10,278528,null,0,B.f,[i.I,i.F,i.q],{ngForOf:[0,"ngForOf"]},null),(n()(),i.jb(11,0,null,null,8,"mat-toolbar",[["class","mat-toolbar"],["id","preferences-footer"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,W.b,W.a)),i.ib(12,4243456,null,1,V.a,[i.j,m.a,B.c],null,null),i.vb(603979776,1,{_toolbarRows:1}),(n()(),i.jb(14,0,null,0,1,"span",[["class","credits"]],null,null,null,null,null)),(n()(),i.xb(15,null,["Push Notifications for D365 v",""])),(n()(),i.jb(16,0,null,0,0,"span",[["class","toolbar-spacer"]],null,null,null,null,null)),(n()(),i.jb(17,0,null,0,2,"span",[["class","credits"]],null,null,null,null,null)),(n()(),i.jb(18,0,null,null,1,"a",[["aria-label","Follow @BenLBartle on GitHub"],["class","github-button"],["data-show-count","true"],["data-size","large"],["href","https://github.com/BenLBartle"]],null,null,null,null,null)),(n()(),i.xb(-1,null,["Follow @BenLBartle"]))],function(n,e){var t=e.component;n(e,6,0,"row wrap"),n(e,7,0,"25px"),n(e,8,0,"flex-start"),n(e,10,0,t.notificationPreferences)},function(n,e){var t=e.component;n(e,11,0,i.sb(e,12)._toolbarRows.length>0,0===i.sb(e,12)._toolbarRows.length),n(e,15,0,t.version)})}function $(n){return i.yb(0,[(n()(),i.jb(0,0,null,null,1,"app-root",[],null,null,null,K,Q)),i.ib(1,49152,null,0,s,[],null,null)],null,null)}var nn=i.fb("app-root",s,$,{},{},[]),en=t("t/Na"),tn=t("ZYjt"),on=t("Wf4p"),ln=t("NSYL"),an=t("ihYY"),rn=t("M2Lx"),sn=t("eDkP"),cn=t("ug5D"),un=t("ORnb"),bn=t("CB3U"),dn=t("t9fZ"),hn=t("26FU"),fn=function(){function n(n,e,t){this.angularFireDB=n,this.angularFireAuth=e,this.angularFireMessaging=t,this.currentMessage=new hn.a(null),un.a.initializeApp(o.settings.FCMSettings),this.angularFireMessaging.messaging.subscribe(function(n){n.onMessage=n.onMessage.bind(n),n.onTokenRefresh=n.onTokenRefresh.bind(n)})}return n.prototype.updateToken=function(n,e){var t=this;this.angularFireAuth.authState.pipe(Object(dn.a)(1)).subscribe(function(){var i={};i[n]=e,t.angularFireDB.object("fcmTokens/").update(i)})},n.prototype.requestPermission=function(n){var e=this;this.angularFireMessaging.requestToken.subscribe(function(t){console.log(t),e.updateToken(n,t)},function(n){console.error("Unable to get permission to notify.",n)})},n.prototype.receiveMessage=function(){var n=this;this.angularFireMessaging.messages.subscribe(function(e){console.log("new message received. ",e),n.currentMessage.next(e)})},n}(),gn=t("UodH"),pn=t("4c35"),mn=t("qAlS"),vn=t("u7R8"),yn=t("hUWP"),qn=t("3pJQ"),xn=t("V9q+"),wn=i.gb(l,[s],function(n){return i.pb([i.qb(512,i.i,i.V,[[8,[c.a,c.b,nn]],[3,i.i],i.t]),i.qb(4608,w.c,w.c,[]),i.qb(4608,w.h,w.b,[]),i.qb(5120,w.j,w.k,[]),i.qb(4608,w.i,w.i,[w.c,w.h,w.j]),i.qb(4608,w.g,w.a,[]),i.qb(5120,w.e,w.l,[w.i,w.g]),i.qb(4608,en.h,en.n,[B.c,i.x,en.l]),i.qb(4608,en.o,en.o,[en.h,en.m]),i.qb(5120,en.a,function(n){return[n]},[en.o]),i.qb(5120,i.s,i.eb,[[3,i.s]]),i.qb(4608,B.i,B.h,[i.s,[2,B.o]]),i.qb(4608,i.h,i.h,[]),i.qb(5120,i.b,i.bb,[]),i.qb(5120,i.q,i.cb,[]),i.qb(5120,i.r,i.db,[]),i.qb(4608,tn.c,tn.l,[B.c]),i.qb(6144,i.C,null,[tn.c]),i.qb(4608,tn.f,on.a,[[2,on.c],[2,on.e]]),i.qb(5120,tn.d,function(n,e,t,i,o,l,a,r){return[new tn.j(n,e,t),new tn.o(i),new tn.n(o,l,a,r)]},[B.c,i.v,i.x,B.c,B.c,tn.f,i.W,[2,tn.g]]),i.qb(4608,tn.e,tn.e,[tn.d,i.v]),i.qb(135680,tn.m,tn.m,[B.c]),i.qb(4608,tn.k,tn.k,[tn.e,tn.m]),i.qb(5120,ln.a,y.e,[]),i.qb(5120,ln.c,y.f,[]),i.qb(4608,ln.b,y.d,[B.c,ln.a,ln.c]),i.qb(5120,i.A,y.g,[tn.k,ln.b,i.v]),i.qb(6144,tn.p,null,[tn.m]),i.qb(4608,i.G,i.G,[i.v]),i.qb(4608,an.b,y.c,[i.A,tn.b]),i.qb(4608,rn.c,rn.c,[]),i.qb(4608,sn.a,sn.a,[sn.g,sn.c,i.i,sn.f,sn.d,i.p,i.v,B.c,q.b,[2,B.d]]),i.qb(5120,sn.h,sn.i,[sn.a]),i.qb(5120,i.a,function(n,e){return[z.j(n,e)]},[B.c,i.x]),i.qb(4608,cn.a,cn.a,[un.d,[2,un.c],[2,un.f],i.x,i.v]),i.qb(4608,bn.a,bn.a,[un.d,[2,un.c],i.x,i.v]),i.qb(4608,S.a,S.a,[un.d,[2,un.c],i.x,i.v]),i.qb(5120,un.b,un.g,[un.d,[2,un.c]]),i.qb(4608,fn,fn,[cn.a,bn.a,S.a]),i.qb(4608,j,j,[]),i.qb(4608,M,M,[w.e,j]),i.qb(135680,B.a,B.a,[i.g]),i.qb(4608,O,O,[S.a,M,A.b]),i.qb(1073742336,w.f,w.f,[]),i.qb(1073742336,en.e,en.e,[]),i.qb(1073742336,en.d,en.d,[]),i.qb(1073742336,B.b,B.b,[]),i.qb(1024,i.k,tn.q,[]),i.qb(512,en.k,en.k,[]),i.qb(2048,en.i,null,[en.k]),i.qb(512,en.g,en.g,[en.i]),i.qb(2048,en.b,null,[en.g]),i.qb(512,en.f,en.j,[en.b,i.p]),i.qb(512,en.c,en.c,[en.f]),i.qb(512,o,o,[en.c]),i.qb(1024,i.c,function(n,e){return[tn.r(n),(t=e,function(){return t.load()})];var t},[[2,i.u],o]),i.qb(512,i.d,i.d,[[2,i.c]]),i.qb(131584,i.f,i.f,[i.v,i.W,i.p,i.k,i.i,i.d]),i.qb(1073742336,i.e,i.e,[i.f]),i.qb(1073742336,tn.a,tn.a,[[3,tn.a]]),i.qb(1073742336,y.b,y.b,[]),i.qb(1073742336,q.a,q.a,[]),i.qb(1073742336,on.e,on.e,[[2,on.b],[2,tn.g]]),i.qb(1073742336,m.b,m.b,[]),i.qb(1073742336,on.g,on.g,[]),i.qb(1073742336,gn.c,gn.c,[]),i.qb(1073742336,b.e,b.e,[]),i.qb(1073742336,rn.d,rn.d,[]),i.qb(1073742336,p.c,p.c,[]),i.qb(1073742336,pn.f,pn.f,[]),i.qb(1073742336,mn.b,mn.b,[]),i.qb(1073742336,sn.e,sn.e,[]),i.qb(1073742336,A.e,A.e,[]),i.qb(1073742336,vn.a,vn.a,[]),i.qb(1073742336,h.c,h.c,[]),i.qb(1073742336,V.b,V.b,[]),i.qb(1073742336,z.c,z.c,[]),i.qb(1073742336,R.e,R.e,[]),i.qb(1073742336,yn.a,yn.a,[]),i.qb(1073742336,qn.a,qn.a,[]),i.qb(1073742336,xn.a,xn.a,[[2,z.g],i.x]),i.qb(1073742336,cn.b,cn.b,[]),i.qb(1073742336,bn.b,bn.b,[]),i.qb(1073742336,S.b,S.b,[]),i.qb(1073742336,un.a,un.a,[]),i.qb(1073742336,l,l,[]),i.qb(256,en.l,"XSRF-TOKEN",[]),i.qb(256,en.m,"X-XSRF-TOKEN",[]),i.qb(256,i.U,!0,[]),i.qb(256,y.a,"BrowserAnimations",[]),i.qb(256,un.d,{},[]),i.qb(256,un.c,void 0,[])])});Object(i.N)(),tn.i().bootstrapModuleFactory(wn).catch(function(n){return console.error(n)})}},[[0,0,5]]]);